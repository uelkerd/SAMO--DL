<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Integration Guide - SAMO Deep Learning</title>
    <meta name="description" content="Complete integration guides for backend, frontend, UX, and data science teams">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --dark-color: #1f2937;
            --light-color: #f9fafb;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
        }

        .hero-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 80px 0;
        }

        .team-card {
            border: none;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
        }

        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .code-example {
            background: #1e293b;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .api-endpoint {
            background: var(--light-color);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid var(--primary-color);
        }

        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .footer {
            background: var(--dark-color);
            color: white;
            padding: 60px 0 30px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .integration-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="fas fa-brain text-primary me-2"></i>
                SAMO-DL
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="demo.html">Live Demo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#backend">Backend</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#frontend">Frontend</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#ux">UX</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#datascience">Data Science</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row text-center">
                <div class="col-lg-8 mx-auto">
                    <h1 class="display-4 fw-bold mb-4">Team Integration Guide</h1>
                    <p class="lead mb-4">
                        Complete integration guides for backend, frontend, UX, and data science teams. 
                        Get your team up and running with SAMO-DL in minutes.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- API Overview -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2 class="fw-bold mb-4">API Overview</h2>
                    <div class="api-endpoint">
                        <h6 class="fw-bold mb-2">Base URL</h6>
                        <code>https://samo-emotion-api-xxxxx-ew.a.run.app</code>
                    </div>
                    
                    <h4 class="fw-bold mt-4 mb-3">Available Endpoints</h4>
                    
                    <div class="api-endpoint">
                        <h6 class="fw-bold mb-2">Health Check</h6>
                        <code>GET /health</code>
                        <p class="mb-0 text-muted">Check API status and model health</p>
                    </div>
                    
                    <div class="api-endpoint">
                        <h6 class="fw-bold mb-2">Emotion Detection</h6>
                        <code>POST /predict</code>
                        <p class="mb-0 text-muted">Analyze text and return detected emotions</p>
                    </div>
                    
                    <div class="api-endpoint">
                        <h6 class="fw-bold mb-2">Metrics</h6>
                        <code>GET /metrics</code>
                        <p class="mb-0 text-muted">Prometheus metrics for monitoring</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Backend Integration -->
    <section id="backend" class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <h2 class="fw-bold mb-4">
                        <i class="fas fa-server text-primary me-2"></i>
                        Backend Integration Guide
                    </h2>
                    
                    <div class="row g-4 mb-5">
                        <div class="col-md-6">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Python (Flask/Django)</h5>
                                    <p class="card-text">Integrate with Python web frameworks</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Flask integration</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Django integration</li>
                                        <li><i class="fas fa-check text-success me-2"></i>FastAPI support</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Node.js (Express)</h5>
                                    <p class="card-text">Integrate with Node.js applications</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Express.js middleware</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Error handling</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Rate limiting</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="fw-bold mb-3">Quick Start</h4>
                    
                    <div class="integration-step">
                        <div class="step-number">1</div>
                        <div>
                            <h6 class="fw-bold">Install Dependencies</h6>
                            <div class="code-example">
                                <pre><code class="language-bash">pip install requests
# or
npm install axios</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="integration-step">
                        <div class="step-number">2</div>
                        <div>
                            <h6 class="fw-bold">Create Integration Function</h6>
                            <div class="code-example">
                                <pre><code class="language-python">import requests

def detect_emotion(text: str) -> dict:
    """Integrate with SAMO Emotion API"""
    try:
        response = requests.post(
            "https://samo-emotion-api-minimal-71517823771.us-central1.run.app/predict",
            json={"text": text},
            headers={"Content-Type": "application/json"},
            timeout=10
        )
        response.raise_for_status()
        return response.json()
    except requests.exceptions.RequestException as e:
        print(f"API Error: {e}")
        return {"error": "Failed to analyze emotions"}

# Example usage
emotions = detect_emotion("I'm feeling excited about this project!")
print(emotions)  # [{"emotion": "excitement", "confidence": 0.92}]</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="integration-step">
                        <div class="step-number">3</div>
                        <div>
                            <h6 class="fw-bold">Add Error Handling</h6>
                            <div class="code-example">
                                <pre><code class="language-python">def safe_emotion_detection(text: str) -> dict:
    """Safe emotion detection with comprehensive error handling"""
    if not text or len(text.strip()) == 0:
        return {"error": "Empty text provided"}
    
    if len(text) > 1000:
        return {"error": "Text too long (max 1000 characters)"}
    
    try:
        emotions = detect_emotion(text)
        if "error" in emotions:
            return emotions
        
        # Validate response format
        if not isinstance(emotions, list):
            return {"error": "Invalid response format"}
        
        return {"success": True, "emotions": emotions}
    except Exception as e:
        return {"error": f"Unexpected error: {str(e)}"}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Frontend Integration -->
    <section id="frontend" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <h2 class="fw-bold mb-4">
                        <i class="fas fa-code text-success me-2"></i>
                        Frontend Integration Guide
                    </h2>
                    
                    <div class="row g-4 mb-5">
                        <div class="col-md-4">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">React</h5>
                                    <p class="card-text">React hooks and components</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Custom hooks</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Error boundaries</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Loading states</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Vue.js</h5>
                                    <p class="card-text">Vue composables and components</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Composables</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Reactive data</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Error handling</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Angular</h5>
                                    <p class="card-text">Angular services and components</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Injectable services</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Observables</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Error handling</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="fw-bold mb-3">React Integration Example</h4>
                    
                    <div class="code-example">
                        <pre><code class="language-javascript">import React, { useState } from 'react';

// Custom hook for emotion detection
const useEmotionDetection = () => {
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  const [emotions, setEmotions] = useState([]);

  const analyzeEmotion = async (text) => {
    setLoading(true);
    setError(null);
    
    try {
      const response = await fetch(
        'https://samo-emotion-api-minimal-71517823771.us-central1.run.app/predict',
        {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ text })
        }
      );
      
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      
      const data = await response.json();
      setEmotions(data);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  return { analyzeEmotion, emotions, loading, error };
};

// React component
const EmotionAnalyzer = () => {
  const [text, setText] = useState('');
  const { analyzeEmotion, emotions, loading, error } = useEmotionDetection();

  const handleSubmit = (e) => {
    e.preventDefault();
    if (text.trim()) {
      analyzeEmotion(text);
    }
  };

  return (
    <div className="emotion-analyzer">
      <form onSubmit={handleSubmit}>
        <textarea
          value={text}
          onChange={(e) => setText(e.target.value)}
          placeholder="Enter text to analyze emotions..."
          className="form-control mb-3"
          rows="4"
        />
        <button 
          type="submit" 
          className="btn btn-primary"
          disabled={loading || !text.trim()}
        >
          {loading ? 'Analyzing...' : 'Analyze Emotions'}
        </button>
      </form>

      {error && (
        <div className="alert alert-danger mt-3">
          Error: {error}
        </div>
      )}

      {emotions.length > 0 && (
        <div className="mt-3">
          <h6>Detected Emotions:</h6>
          {emotions.map((emotion, index) => (
            <div key={index} className="card mb-2">
              <div className="card-body">
                <h6 className="card-title">{emotion.emotion}</h6>
                <div className="progress">
                  <div 
                    className="progress-bar" 
                    style={{width: `${emotion.confidence * 100}%`}}
                  >
                    {Math.round(emotion.confidence * 100)}%
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
};

export default EmotionAnalyzer;</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- UX Integration -->
    <section id="ux" class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <h2 class="fw-bold mb-4">
                        <i class="fas fa-palette text-warning me-2"></i>
                        UX Integration Guide
                    </h2>
                    
                    <div class="row g-4 mb-5">
                        <div class="col-md-6">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">User Feedback Analysis</h5>
                                    <p class="card-text">Real-time emotion analysis for user feedback</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Sentiment tracking</li>
                                        <li><i class="fas fa-check text-success me-2"></i>User journey mapping</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Emotional context</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Personalization</h5>
                                    <p class="card-text">Emotion-based personalization features</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Dynamic content</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Adaptive interfaces</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Emotional responses</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="fw-bold mb-3">UX Implementation Examples</h4>
                    
                    <div class="code-example">
                        <pre><code class="language-javascript">// Emotion-based UI adaptation
class EmotionAwareUI {
  constructor() {
    this.currentEmotion = null;
    this.emotionHistory = [];
  }

  async analyzeUserInput(text) {
    try {
      const response = await fetch(
        'https://samo-emotion-api-xxxxx-ew.a.run.app/predict',
        {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ text })
        }
      );
      
      const emotions = await response.json();
      this.currentEmotion = emotions[0]?.emotion;
      this.emotionHistory.push({
        emotion: this.currentEmotion,
        timestamp: new Date(),
        text: text
      });
      
      this.adaptUI();
    } catch (error) {
      console.error('Emotion analysis failed:', error);
    }
  }

  adaptUI() {
    const body = document.body;
    
    // Remove existing emotion classes
    body.classList.remove('emotion-joy', 'emotion-sadness', 'emotion-anger', 'emotion-fear');
    
    // Add emotion-specific styling
    if (this.currentEmotion) {
      body.classList.add(`emotion-${this.currentEmotion}`);
    }
    
    // Update UI elements based on emotion
    this.updateColorScheme();
    this.updateContent();
    this.updateInteractions();
  }

  updateColorScheme() {
    const colorSchemes = {
      joy: { primary: '#10b981', secondary: '#34d399' },
      sadness: { primary: '#3b82f6', secondary: '#60a5fa' },
      anger: { primary: '#ef4444', secondary: '#f87171' },
      fear: { primary: '#f59e0b', secondary: '#fbbf24' }
    };
    
    const scheme = colorSchemes[this.currentEmotion] || colorSchemes.joy;
    document.documentElement.style.setProperty('--primary-color', scheme.primary);
    document.documentElement.style.setProperty('--secondary-color', scheme.secondary);
  }

  updateContent() {
    const contentAdaptations = {
      joy: {
        greeting: "Great to see you're happy! ðŸ˜Š",
        suggestions: ["Share your joy", "Celebrate this moment"]
      },
      sadness: {
        greeting: "I understand you're feeling down. ðŸ’™",
        suggestions: ["Take a break", "Talk to someone"]
      },
      anger: {
        greeting: "I sense you're frustrated. ðŸ”¥",
        suggestions: ["Take deep breaths", "Step back for a moment"]
      },
      fear: {
        greeting: "It's okay to feel anxious. ðŸ¤—",
        suggestions: ["Breathe slowly", "You're safe here"]
      }
    };
    
    const adaptation = contentAdaptations[this.currentEmotion] || contentAdaptations.joy;
    
    // Update UI elements
    const greetingElement = document.getElementById('greeting');
    if (greetingElement) {
      greetingElement.textContent = adaptation.greeting;
    }
  }

  updateInteractions() {
    // Adjust interaction patterns based on emotion
    const interactionPatterns = {
      joy: { animationSpeed: 'fast', soundEnabled: true },
      sadness: { animationSpeed: 'slow', soundEnabled: false },
      anger: { animationSpeed: 'fast', soundEnabled: false },
      fear: { animationSpeed: 'slow', soundEnabled: true }
    };
    
    const pattern = interactionPatterns[this.currentEmotion] || interactionPatterns.joy;
    
    // Apply interaction changes
    document.body.style.setProperty('--animation-speed', pattern.animationSpeed);
    if (window.soundManager) {
      window.soundManager.enabled = pattern.soundEnabled;
    }
  }
}

// Usage
const emotionUI = new EmotionAwareUI();

// Analyze user input and adapt UI
document.getElementById('user-input').addEventListener('input', (e) => {
  if (e.target.value.length > 10) {
    emotionUI.analyzeUserInput(e.target.value);
  }
});</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Science Integration -->
    <section id="datascience" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <h2 class="fw-bold mb-4">
                        <i class="fas fa-chart-bar text-info me-2"></i>
                        Data Science Integration Guide
                    </h2>
                    
                    <div class="row g-4 mb-5">
                        <div class="col-md-4">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Data Collection</h5>
                                    <p class="card-text">Structured data collection for analysis</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Batch processing</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Data validation</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Quality metrics</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Model Monitoring</h5>
                                    <p class="card-text">Performance tracking and monitoring</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Performance metrics</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Drift detection</li>
                                        <li><i class="fas fa-check text-success me-2"></i>A/B testing</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Retraining Pipeline</h5>
                                    <p class="card-text">Automated model retraining</p>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Vertex AI integration</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Continuous learning</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Version control</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="fw-bold mb-3">Data Science Implementation</h4>
                    
                    <div class="code-example">
                        <pre><code class="language-python">import pandas as pd
import requests
import numpy as np
from datetime import datetime
import logging

class EmotionDataCollector:
    def __init__(self, api_url="https://samo-emotion-api-xxxxx-ew.a.run.app"):
        self.api_url = api_url
        self.session = requests.Session()
        self.logger = logging.getLogger(__name__)
    
    def analyze_batch(self, texts: list) -> pd.DataFrame:
        """Analyze a batch of texts and return structured results"""
        results = []
        
        for i, text in enumerate(texts):
            try:
                response = self.session.post(
                    f"{self.api_url}/predict",
                    json={"text": text},
                    timeout=30
                )
                response.raise_for_status()
                
                emotions = response.json()
                results.append({
                    'text': text,
                    'emotions': emotions,
                    'timestamp': datetime.now(),
                    'status': 'success'
                })
                
            except Exception as e:
                self.logger.error(f"Error analyzing text {i}: {e}")
                results.append({
                    'text': text,
                    'emotions': [],
                    'timestamp': datetime.now(),
                    'status': 'error',
                    'error': str(e)
                })
        
        return pd.DataFrame(results)
    
    def extract_emotion_features(self, df: pd.DataFrame) -> pd.DataFrame:
        """Extract emotion features from API responses"""
        features = []
        
        for _, row in df.iterrows():
            if row['status'] == 'success' and row['emotions']:
                # Get top emotion
                top_emotion = max(row['emotions'], key=lambda x: x['confidence'])
                
                # Create feature vector
                emotion_features = {
                    'text': row['text'],
                    'primary_emotion': top_emotion['emotion'],
                    'primary_confidence': top_emotion['confidence'],
                    'emotion_count': len(row['emotions']),
                    'timestamp': row['timestamp']
                }
                
                # Add individual emotion confidences
                for emotion in row['emotions']:
                    emotion_features[f"conf_{emotion['emotion']}"] = emotion['confidence']
                
                features.append(emotion_features)
        
        return pd.DataFrame(features)
    
    def calculate_metrics(self, df: pd.DataFrame) -> dict:
        """Calculate performance and quality metrics"""
        metrics = {
            'total_requests': len(df),
            'successful_requests': len(df[df['status'] == 'success']),
            'error_rate': len(df[df['status'] == 'error']) / len(df),
            'avg_confidence': df[df['status'] == 'success']['primary_confidence'].mean(),
            'emotion_distribution': df[df['status'] == 'success']['primary_emotion'].value_counts().to_dict()
        }
        
        return metrics

class ModelMonitor:
    def __init__(self):
        self.performance_history = []
    
    def track_performance(self, metrics: dict):
        """Track model performance over time"""
        metrics['timestamp'] = datetime.now()
        self.performance_history.append(metrics)
    
    def detect_drift(self, window_size: int = 100) -> dict:
        """Detect performance drift"""
        if len(self.performance_history) < window_size:
            return {'drift_detected': False, 'reason': 'Insufficient data'}
        
        recent_metrics = self.performance_history[-window_size:]
        historical_metrics = self.performance_history[:-window_size]
        
        # Calculate drift indicators
        recent_avg_conf = np.mean([m['avg_confidence'] for m in recent_metrics])
        historical_avg_conf = np.mean([m['avg_confidence'] for m in historical_metrics])
        
        confidence_drift = abs(recent_avg_conf - historical_avg_conf) / historical_avg_conf
        
        drift_detected = confidence_drift > 0.1  # 10% threshold
        
        return {
            'drift_detected': drift_detected,
            'confidence_drift': confidence_drift,
            'recent_avg_confidence': recent_avg_conf,
            'historical_avg_confidence': historical_avg_conf
        }
    
    def generate_report(self) -> str:
        """Generate performance report"""
        if not self.performance_history:
            return "No performance data available"
        
        latest = self.performance_history[-1]
        drift = self.detect_drift()
        
        report = f"""
        SAMO-DL Performance Report
        ==========================
        
        Latest Metrics:
        - Total Requests: {latest['total_requests']}
        - Success Rate: {(1 - latest['error_rate']) * 100:.2f}%
        - Average Confidence: {latest['avg_confidence']:.3f}
        
        Drift Analysis:
        - Drift Detected: {drift['drift_detected']}
        - Confidence Drift: {drift['confidence_drift']:.3f}
        
        Top Emotions:
        {chr(10).join([f"- {emotion}: {count}" for emotion, count in list(latest['emotion_distribution'].items())[:5]])}
        """
        
        return report

# Usage example
if __name__ == "__main__":
    # Initialize components
    collector = EmotionDataCollector()
    monitor = ModelMonitor()
    
    # Sample texts for analysis
    sample_texts = [
        "I'm feeling really happy today!",
        "This is frustrating and annoying.",
        "I love this new feature!",
        "I'm scared about the upcoming changes.",
        "What a wonderful surprise!"
    ]
    
    # Collect data
    results_df = collector.analyze_batch(sample_texts)
    features_df = collector.extract_emotion_features(results_df)
    
    # Calculate metrics
    metrics = collector.calculate_metrics(results_df)
    monitor.track_performance(metrics)
    
    # Generate report
    report = monitor.generate_report()
    print(report)
    
    # Save results
    features_df.to_csv('emotion_analysis_results.csv', index=False)
    print("Results saved to emotion_analysis_results.csv")</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- API Documentation -->
    <section id="api-docs" class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <h2 class="fw-bold mb-4">
                        <i class="fas fa-book text-primary me-2"></i>
                        Complete API Documentation
                    </h2>
                    
                    <div class="row g-4 mb-5">
                        <div class="col-md-6">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">API Endpoint</h5>
                                    <div class="api-endpoint">
                                        <strong>POST</strong> https://samo-emotion-api-minimal-71517823771.us-central1.run.app/predict
                                    </div>
                                    <p class="card-text">Main endpoint for emotion detection</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card team-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Response Time</h5>
                                    <p class="display-6 fw-bold text-success">&lt;50ms</p>
                                    <p class="card-text">Average response time</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="fw-bold mb-3">Request Format</h4>
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Important:</strong> Text input is limited to a maximum of 1000 characters. Requests exceeding this limit will return a validation error.
                    </div>
                    <div class="code-example">
                        <pre><code class="language-json">{
  "text": "I am feeling really excited about this project!"
}</code></pre>
                    </div>

                    <h4 class="fw-bold mb-3">Error Response Example</h4>
                    <div class="code-example">
                        <pre><code class="language-json">HTTP/1.1 400 Bad Request
Content-Type: application/json

{
  "error": "Missing required field: text"
}
</code></pre>
                        <p class="text-muted mt-2">Typical error responses include an appropriate HTTP status code (e.g., <code>400 Bad Request</code> for invalid input).</p>
                    </div>

                    <h4 class="fw-bold mb-3">Response Format</h4>
                    <p class="mb-2">
                        <strong>Note:</strong> The <code>confidence</code> values for each emotion are always between <code>0</code> and <code>1</code> (inclusive), representing the model's confidence in the presence of that emotion. These values are independent and do <strong>not</strong> necessarily sum to 1.
                    </p>
                    <div class="code-example">
                        <pre><code class="language-json">{
  "emotions": [
    {
      "emotion": "joy",
      "confidence": 0.92
    },
    {
      "emotion": "optimism", 
      "confidence": 0.78
    },
    {
      "emotion": "pride",
      "confidence": 0.65
    }
  ],
  "processing_time": 45,
  "model_version": "v2.1.0"
}</code></pre>
                    </div>

                    <h4 class="fw-bold mb-3">Supported Emotions</h4>
                    <p class="text-muted mb-2" style="font-size: 0.95em;">
                        <em>Note: The following list is not exhaustive and may change as the model evolves. Integrators should be prepared to handle additional or unexpected emotions.</em>
                    </p>
                    <div class="row g-3 mb-4">
                        <div class="col-md-4">
                            <div class="card border-0 bg-success bg-opacity-10">
                                <div class="card-body">
                                    <h6 class="fw-bold text-success">Positive</h6>
                                    <ul class="list-unstyled mb-0">
                                        <li>â€¢ Joy</li>
                                        <li>â€¢ Love</li>
                                        <li>â€¢ Gratitude</li>
                                        <li>â€¢ Pride</li>
                                        <li>â€¢ Optimism</li>
                                        <li>â€¢ Curiosity</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card border-0 bg-danger bg-opacity-10">
                                <div class="card-body">
                                    <h6 class="fw-bold text-danger">Negative</h6>
                                    <ul class="list-unstyled mb-0">
                                        <li>â€¢ Sadness</li>
                                        <li>â€¢ Anger</li>
                                        <li>â€¢ Fear</li>
                                        <li>â€¢ Disgust</li>
                                        <li>â€¢ Disappointment</li>
                                        <li>â€¢ Frustration</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card border-0 bg-info bg-opacity-10">
                                <div class="card-body">
                                    <h6 class="fw-bold text-info">Neutral/Complex</h6>
                                    <ul class="list-unstyled mb-0">
                                        <li>â€¢ Neutral</li>
                                        <li>â€¢ Surprise</li>
                                        <li>â€¢ Confusion</li>
                                        <li>â€¢ Concern</li>
                                        <li>â€¢ Relief</li>
                                        <li>â€¢ Nostalgia</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="fw-bold mb-3">Error Handling</h4>
                    <div class="code-example">
                        <pre><code class="language-json">{
  "error": "Text too long (max 1000 characters)",
  "error_code": "VALIDATION_ERROR"
}</code></pre>
                    </div>

                    <h4 class="fw-bold mb-3">Rate Limits</h4>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Rate Limit:</strong> 100 requests per minute per IP address
                    </div>

                    <h4 class="fw-bold mb-3">Complete Integration Examples</h4>
                    
                    <div class="accordion" id="integrationExamples">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#pythonExample">
                                    Python (FastAPI)
                                </button>
                            </h2>
                            <div id="pythonExample" class="accordion-collapse collapse show" data-bs-parent="#integrationExamples">
                                <div class="accordion-body">
                                    <div class="code-example">
                                        <pre><code class="language-python">from fastapi import FastAPI, HTTPException
import httpx
from pydantic import BaseModel, validator

app = FastAPI()

class EmotionRequest(BaseModel):
    text: str
    
    @validator('text')
    def validate_text_length(cls, v):
        if len(v) > 1000:
            raise ValueError('Text must be 1000 characters or less')
        return v

class EmotionResponse(BaseModel):
    emotions: list
    processing_time: int
    model_version: str

@app.post("/analyze-emotions", response_model=EmotionResponse)
async def analyze_emotions(request: EmotionRequest):
    async with httpx.AsyncClient() as client:
        try:
            response = await client.post(
                "https://samo-emotion-api-minimal-71517823771.us-central1.run.app/predict",
                json={"text": request.text},
                timeout=10.0
            )
            response.raise_for_status()
            return response.json()
        except httpx.HTTPStatusError as e:
            raise HTTPException(status_code=e.response.status_code, detail="API Error")
        except httpx.TimeoutException:
            raise HTTPException(status_code=408, detail="Request timeout")</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#nodeExample">
                                    Node.js (Express)
                                </button>
                            </h2>
                            <div id="nodeExample" class="accordion-collapse collapse" data-bs-parent="#integrationExamples">
                                <div class="accordion-body">
                                    <div class="code-example">
                                        <pre><code class="language-javascript">const express = require('express');
const axios = require('axios');

const app = express();
app.use(express.json());

app.post('/analyze-emotions', async (req, res) => {
    try {
        const { text } = req.body;
        
        if (!text || text.length > 1000) {
            return res.status(400).json({ 
                error: 'Invalid text length (max 1000 characters)',
                error_code: 'INVALID_TEXT_LENGTH'
            });
        }
        
        const response = await axios.post(
            'https://samo-emotion-api-minimal-71517823771.us-central1.run.app/predict',
            { text },
            { 
                timeout: 10000,
                headers: { 'Content-Type': 'application/json' }
            }
        );
        
        res.json(response.data);
    } catch (error) {
        console.error('API Error:', error.message);
        res.status(500).json({ 
            error: 'Failed to analyze emotions'
        });
    }
});

app.listen(3000, () => {
    console.log('Server running on port 3000');
});</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#reactExample">
                                    React Hook
                                </button>
                            </h2>
                            <div id="reactExample" class="accordion-collapse collapse" data-bs-parent="#integrationExamples">
                                <div class="accordion-body">
                                    <div class="code-example">
                                        <pre><code class="language-javascript">import { useState, useCallback } from 'react';

const useEmotionAPI = () => {
    const [loading, setLoading] = useState(false);
    const [error, setError] = useState(null);
    const [result, setResult] = useState(null);

    const analyzeEmotion = useCallback(async (text) => {
        setLoading(true);
        setError(null);
        
        try {
            const response = await fetch(
                'https://samo-emotion-api-minimal-71517823771.us-central1.run.app/predict',
                {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ text })
                }
            );
            
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            
            const data = await response.json();
            setResult(data);
            return data;
        } catch (err) {
            setError(err.message);
            throw err;
        } finally {
            setLoading(false);
        }
    }, []);

    return { analyzeEmotion, loading, error, result };
};

export default useEmotionAPI;</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="fw-bold mb-3">
                        <i class="fas fa-brain text-primary me-2"></i>
                        SAMO-DL
                    </h5>
                    <p class="text-muted">
                        Production-ready emotion detection API with enterprise-grade reliability and performance.
                    </p>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3">Integration</h6>
                    <ul class="list-unstyled">
                        <li><a href="#backend" class="text-muted text-decoration-none">Backend</a></li>
                        <li><a href="#frontend" class="text-muted text-decoration-none">Frontend</a></li>
                        <li><a href="#ux" class="text-muted text-decoration-none">UX</a></li>
                        <li><a href="#datascience" class="text-muted text-decoration-none">Data Science</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3">Resources</h6>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-muted text-decoration-none">Home</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">API Docs</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Examples</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Support</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3">Company</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-muted text-decoration-none">About</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Blog</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Careers</a></li>
                        <li><a href="#" class="text-muted text-decoration-none">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3">Connect</h6>
                    <div class="d-flex gap-2">
                        <a href="https://github.com/uelkerd/SAMO--DL" class="text-muted text-decoration-none">
                            <i class="fab fa-github fa-lg"></i>
                        </a>
                        <a href="#" class="text-muted text-decoration-none">
                            <i class="fab fa-twitter fa-lg"></i>
                        </a>
                        <a href="#" class="text-muted text-decoration-none">
                            <i class="fab fa-linkedin fa-lg"></i>
                        </a>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="text-muted mb-0">
                        Â© 2025 SAMO-DL. All rights reserved.
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="text-muted mb-0">
                        Built with â¤ï¸ for the developer community
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html> 