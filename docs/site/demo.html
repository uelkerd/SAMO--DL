<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Emotion Detection Demo - SAMO Deep Learning</title>
    <meta name="description" content="Interactive demo of SAMO-DL emotion detection API with real-time analysis and visualization">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Chart.js for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            /* Color variables */
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --dark-color: #1f2937;
            --light-color: #f9fafb;

            /* Spacing variables */
            --hero-padding-desktop: 60px;
            --hero-padding-mobile: 40px;
            --container-padding-desktop: 30px;
            --container-padding-mobile: 20px;
            --card-padding: 15px;
            --section-margin: 30px;
            --section-margin-mobile: 20px;

            /* Chart dimensions */
            --chart-height-desktop: 250px;
            --chart-height-mobile: 200px;
            --icon-size: 50px;
            --icon-size-mobile: 40px;

            /* Border radius */
            --border-radius-sm: 8px;
            --border-radius-md: 12px;
            --border-radius-lg: 16px;
            --border-radius-xl: 20px;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        .hero-section {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: var(--hero-padding-desktop) 0;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .demo-container {
            background: white;
            border-radius: var(--border-radius-xl);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            padding: var(--container-padding-desktop);
            margin: calc(-1 * var(--container-padding-desktop)) 0 var(--section-margin) 0;
            position: relative;
            z-index: 10;
        }

        .emotion-card {
            background: white;
            border-radius: var(--border-radius-md);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            margin-bottom: 15px;
        }

        .emotion-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .emotion-card.active {
            border-color: var(--primary-color);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .confidence-bar {
            height: 6px;
            border-radius: 3px;
            background: #e5e7eb;
            overflow: hidden;
            margin-top: 8px;
        }

        .confidence-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.8s ease;
        }

        .stats-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .footer {
            background: var(--dark-color);
            color: white;
            padding: 60px 0 30px;
        }

        .loading-spinner {
            display: none;
        }

        .loading-spinner.show {
            display: block;
        }

        .result-section {
            display: none;
        }

        .result-section.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .floating-card {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .hero-section {
                padding: var(--hero-padding-mobile) 0;
            }

            .demo-container {
                padding: var(--container-padding-mobile);
                margin: calc(-1 * var(--container-padding-mobile)) 0 var(--section-margin-mobile) 0;
            }

            .chart-container {
                height: var(--chart-height-mobile);
            }

            .stats-card {
                padding: 15px;
                margin-bottom: 10px;
            }
        }

        /* Compact layout for better UX */
        .compact-section {
            margin-bottom: var(--section-margin);
        }

        .compact-card {
            padding: var(--card-padding);
        }

        .compact-chart {
            height: var(--chart-height-desktop);
        }

        @media (max-width: 768px) {
            .compact-chart {
                height: var(--chart-height-mobile);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="fas fa-brain text-primary me-2"></i>
                SAMO-DL
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="demo.html">Demo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="integration.html">Integration</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center hero-content">
                <div class="col-lg-8">
                    <h1 class="display-5 fw-bold mb-3">
                        Live Emotion Detection Demo
                    </h1>
                    <p class="lead mb-4">
                        Experience SAMO-DL's emotion detection API in real-time. Test with your own text and see instant results.
                    </p>
                    <div class="d-flex gap-3 flex-wrap">
                        <a href="#demo" class="btn btn-light btn-lg">
                            <i class="fas fa-play me-2"></i>
                            Start Demo
                        </a>
                        <a href="integration.html" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-code me-2"></i>
                            View Code
                        </a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="row g-2">
                        <div class="col-6">
                            <div class="stats-card">
                                <h4 class="fw-bold">>90%</h4>
                                <small>F1 Score</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stats-card">
                                <h4 class="fw-bold"><50ms</h4>
                                <small>Latency</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stats-card">
                                <h4 class="fw-bold">28</h4>
                                <small>Emotions</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stats-card">
                                <h4 class="fw-bold">2.3x</h4>
                                <small>Faster</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Container -->
    <section id="demo" class="py-4">
        <div class="container">
            <div class="demo-container">
                <div class="row">
                    <div class="col-lg-8 mx-auto text-center mb-4">
                        <h2 class="display-6 fw-bold mb-2">Interactive Emotion Detection</h2>
                        <p class="text-muted">
                            Enter any text below and watch our AI analyze emotions in real-time
                        </p>
                    </div>
                </div>

                <!-- Input Section -->
                <div class="row mb-4">
                    <div class="col-lg-8 mx-auto">
                        <div class="mb-3">
                            <label for="demoText" class="form-label fw-bold">Enter your text:</label>
                            <textarea
                                class="form-control"
                                id="demoText"
                                rows="3"
                                placeholder="I am feeling really excited about this project! The possibilities are endless and I can't wait to see what we can achieve together."
                            ></textarea>
                        </div>

                        <div class="d-flex gap-2 justify-content-center flex-wrap">
                            <button class="btn btn-primary px-4" onclick="analyzeEmotion()">
                                <i class="fas fa-magic me-2"></i>
                                Analyze Emotions
                            </button>
                            <button class="btn btn-outline-secondary" onclick="loadSampleTexts()">
                                <i class="fas fa-lightbulb me-2"></i>
                                Load Examples
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Loading Section -->
                <div id="loadingSection" class="loading-spinner text-center mb-4">
                    <div class="spinner-border text-primary mb-2" style="width: 2rem; height: 2rem;" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="text-muted mb-0">Analyzing emotions...</p>
                </div>

                <!-- Results Section -->
                <div id="resultSection" class="result-section">
                    <div class="row">
                        <div class="col-lg-8 mx-auto">
                            <h4 class="fw-bold mb-3 text-center">Analysis Results</h4>

                            <!-- Top Emotions -->
                            <div class="row mb-3">
                                <div class="col-12">
                                    <h6 class="fw-bold mb-2">Detected Emotions:</h6>
                                    <div id="emotionResults" class="row g-2"></div>
                                </div>
                            </div>

                            <!-- Single Optimized Chart -->
                            <div class="row">
                                <div class="col-12">
                                    <div class="card border-0 shadow-sm compact-card">
                                        <div class="card-body">
                                            <h6 class="fw-bold mb-2">Emotion Confidence Distribution</h6>
                                            <div class="chart-container compact-chart">
                                                <canvas id="confidenceChart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- API Information -->
                            <div class="row mt-3">
                                <div class="col-12">
                                    <div class="card border-0 bg-light compact-card">
                                        <div class="card-body text-center">
                                            <div class="row g-3">
                                                <div class="col-md-3">
                                                    <small class="text-muted d-block">Response Time</small>
                                                    <strong id="responseTime">-</strong>
                                                </div>
                                                <div class="col-md-3">
                                                    <small class="text-muted d-block">API Status</small>
                                                    <strong id="apiStatus">-</strong>
                                                </div>
                                                <div class="col-md-3">
                                                    <small class="text-muted d-block">Avg Confidence</small>
                                                    <strong id="avgConfidence">-</strong>
                                                </div>
                                                <div class="col-md-3">
                                                    <small class="text-muted d-block">Model Version</small>
                                                    <strong>v2.1.0</strong>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section (Compact) -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row g-3">
                <div class="col-lg-4 col-md-6">
                    <div class="card border-0 shadow-sm h-100 compact-card">
                        <div class="card-body text-center">
                            <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-2 feature-icon">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <h6 class="card-title fw-bold">Lightning Fast</h6>
                            <p class="card-text text-muted small">
                                Sub-50ms response times with ONNX optimization.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card border-0 shadow-sm h-100 compact-card">
                        <div class="card-body text-center">
                            <div class="bg-success bg-opacity-10 text-success rounded-circle d-inline-flex align-items-center justify-content-center mb-2 feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h6 class="card-title fw-bold">High Accuracy</h6>
                            <p class="card-text text-muted small">
                                >90% F1 score across 28 emotion categories.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card border-0 shadow-sm h-100 compact-card">
                        <div class="card-body text-center">
                            <div class="bg-warning bg-opacity-10 text-warning rounded-circle d-inline-flex align-items-center justify-content-center mb-2 feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h6 class="card-title fw-bold">Production Ready</h6>
                            <p class="card-text text-muted small">
                                Deployed on Google Cloud Run with 99.9% uptime.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer bg-dark text-light py-4">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-3">
                    <h6 class="fw-bold mb-2">
                        <i class="fas fa-brain text-primary me-2"></i>
                        SAMO-DL
                    </h6>
                    <p class="text-muted small">
                        Production-ready emotion detection API with enterprise-grade reliability.
                    </p>
                </div>
                <div class="col-lg-2 col-md-6 mb-3">
                    <h6 class="fw-bold mb-2">Product</h6>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-muted text-decoration-none small">Home</a></li>
                        <li><a href="demo.html" class="text-muted text-decoration-none small">Demo</a></li>
                        <li><a href="integration.html" class="text-muted text-decoration-none small">Integration</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-3">
                    <h6 class="fw-bold mb-2">Resources</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-muted text-decoration-none small">API Docs</a></li>
                        <li><a href="#" class="text-muted text-decoration-none small">Examples</a></li>
                        <li><a href="#" class="text-muted text-decoration-none small">Support</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-3">
                    <h6 class="fw-bold mb-2">Company</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-muted text-decoration-none small">About</a></li>
                        <li><a href="#" class="text-muted text-decoration-none small">Blog</a></li>
                        <li><a href="#" class="text-muted text-decoration-none small">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-3">
                    <h6 class="fw-bold mb-2">Connect</h6>
                    <div class="d-flex gap-2">
                        <a href="https://github.com/uelkerd/SAMO--DL" class="text-muted text-decoration-none">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#" class="text-muted text-decoration-none">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-muted text-decoration-none">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>
            </div>
            <hr class="my-3">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="text-muted mb-0 small">
                        Â© 2024 SAMO-DL. All rights reserved.
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="text-muted mb-0 small">
                        Powered by <i class="fas fa-cloud text-primary"></i> Google Cloud Run
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Configuration
        const CONFIG = {
            USE_REAL_API: false, // Set to true in development to use real API
            API_ENDPOINT: 'https://samo-emotion-api-minimal-71517823771.us-central1.run.app/predict', // Cloud Run API endpoint
            DEMO_MODE: true // Always true for demo page
        };

        let confidenceChart = null;

        // Sample texts organized by categories for better maintainability
        const sampleTexts = {
            "Positive Emotions": [
                "I am feeling really excited about this project! The possibilities are endless and I can't wait to see what we can achieve together.",
                "I'm absolutely thrilled with the results! This exceeded all my expectations and I'm so proud of what we accomplished.",
                "I'm so grateful for all the support I've received from my team. This has been an amazing journey.",
                "I'm feeling incredibly optimistic about the future. Everything seems to be falling into place perfectly.",
                "I'm delighted to announce that we've successfully completed the milestone ahead of schedule!"
            ],
            "Negative Emotions": [
                "I'm feeling a bit anxious about the upcoming presentation, but I know I've prepared well and should do fine.",
                "I'm feeling frustrated with the current situation, but I'm trying to stay positive and find solutions.",
                "I'm really disappointed with how things turned out. I had such high hopes for this project.",
                "I'm terrified about the upcoming surgery. I've never been this scared in my life.",
                "I'm furious about the way they handled this situation. It's completely unacceptable!"
            ],
            "Mixed Emotions": [
                "I'm nervous but also excited about starting my new job. It's a big change but I think it's the right move.",
                "I'm sad to leave my old team but happy to start this new adventure. It's bittersweet.",
                "I'm worried about the deadline but confident in our team's ability to deliver quality work.",
                "I'm surprised by the unexpected news but grateful for the opportunity it presents.",
                "I'm angry about the mistake but relieved that we caught it before it caused more problems."
            ],
            "Professional Context": [
                "The quarterly results exceeded our targets by 15%. The team's hard work has truly paid off.",
                "We need to address the customer complaints immediately. This is affecting our reputation.",
                "The new product launch was a huge success! Sales are through the roof.",
                "I'm concerned about the budget overruns. We need to find ways to cut costs.",
                "The client is very satisfied with our work. They want to extend the contract."
            ],
            "Personal Context": [
                "My grandmother passed away last week. I'm heartbroken but grateful for all the memories we shared.",
                "I just got engaged! I'm overjoyed and can't wait to start planning our wedding.",
                "My car broke down on the way to an important meeting. I'm so frustrated right now.",
                "I won the lottery! I'm still in shock and don't know what to do with all this money.",
                "My best friend is moving to another country. I'm happy for her new opportunity but sad to see her go."
            ],
            "Creative/Artistic Context": [
                "The painting turned out exactly as I envisioned. I'm so proud of this masterpiece.",
                "The concert was absolutely magical. The music moved me to tears.",
                "I'm stuck on this creative project. Nothing I try seems to work.",
                "The audience's reaction to my performance was incredible. I felt so alive on stage.",
                "I'm inspired by the beautiful sunset. Nature has such a calming effect on me."
            ],
            "Technology/Development Context": [
                "The code review was brutal but fair. I learned so much from the feedback.",
                "The deployment failed again. I'm getting tired of these production issues.",
                "The new feature is working perfectly! Users are loving the improved interface.",
                "I'm confused by this bug. It makes no sense why it's happening.",
                "The system is down and customers are complaining. This is a critical situation."
            ],
            "Social/Relationship Context": [
                "My partner surprised me with a romantic dinner. I feel so loved and appreciated.",
                "We had a huge argument last night. I'm still upset about what was said.",
                "My child took their first steps today! I'm overwhelmed with joy and pride.",
                "I'm lonely since my roommate moved out. The apartment feels so empty.",
                "The party was amazing! I met so many interesting people and had great conversations."
            ],
            "Health/Wellness Context": [
                "I just completed my first marathon! I'm exhausted but incredibly proud.",
                "The doctor's diagnosis was a relief. It's treatable and I'll be fine.",
                "I'm worried about my health. These symptoms are concerning.",
                "The meditation session was so peaceful. I feel completely relaxed now.",
                "I'm frustrated with my slow recovery. I just want to get back to normal."
            ],
            "Academic/Educational Context": [
                "I aced the final exam! All those late nights studying were worth it.",
                "I'm struggling with this math problem. It's so complex and confusing.",
                "The professor's feedback was encouraging. I'm motivated to improve.",
                "I'm nervous about presenting my research to the committee.",
                "Graduation day was emotional. I'm proud of my achievements but sad to leave."
            ],
            "Travel/Adventure Context": [
                "The trip was incredible! I saw so many beautiful places and met amazing people.",
                "I'm scared about traveling alone for the first time.",
                "The flight was delayed for hours. I'm so annoyed with the airline.",
                "The hiking trail was breathtaking. I felt so connected to nature.",
                "I'm excited about my upcoming vacation. I really need this break."
            ],
            "Business/Financial Context": [
                "The investment paid off better than expected. I'm thrilled with the returns.",
                "I'm stressed about the upcoming merger. So many people's jobs are at stake.",
                "The startup pitch went perfectly. Investors were very interested.",
                "I'm worried about the market volatility. My portfolio has taken a hit.",
                "The promotion came as a complete surprise. I'm honored and excited."
            ],
            "Environmental/Nature Context": [
                "The storm was terrifying. I've never seen weather like that before.",
                "The sunset was absolutely stunning. I felt so peaceful watching it.",
                "I'm concerned about climate change. We need to take action now.",
                "The forest fire was devastating. So much wildlife was lost.",
                "The spring flowers are blooming beautifully. Nature is so rejuvenating."
            ]
        };

        async function analyzeEmotion() {
            const text = document.getElementById('demoText').value.trim();
            if (!text) {
                alert('Please enter some text to analyze.');
                return;
            }

            // Show loading
            document.getElementById('loadingSection').classList.add('show');
            document.getElementById('resultSection').classList.remove('show');

            try {
                const startTime = Date.now();
                let emotions, responseTime;

                if (CONFIG.USE_REAL_API && !CONFIG.DEMO_MODE) {
                    // Real API call (only in development)
                    const response = await fetch(CONFIG.API_ENDPOINT, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ text: text })
                    });

                    if (!response.ok) {
                        throw new Error(`API request failed with status ${response.status}`);
                    }

                    responseTime = Date.now() - startTime;
                    const data = await response.json();
                    emotions = data.emotions;
                } else {
                    // Demo mode - use mock data
                    responseTime = Date.now() - startTime;
                    emotions = generateMockEmotions(text);
                }

                displayResults(emotions, responseTime);
                updateCharts(emotions);
                updateAPIInfo(responseTime, emotions);

            } catch (error) {
                console.error('API call failed. Falling back to mock data. Error details:', error);

                if (CONFIG.USE_REAL_API) {
                    alert('There was a problem analyzing emotions with the API. Showing mock results instead.');
                }

                // Always use mock data on error
                const mockEmotions = generateMockEmotions(text);
                displayResults(mockEmotions, 45);
                updateCharts(mockEmotions);
                updateAPIInfo(45, mockEmotions);
            } finally {
                document.getElementById('loadingSection').classList.remove('show');
            }
        }

        function loadSampleTexts() {
            // Get all categories and randomly select one
            const categories = Object.keys(sampleTexts);
            const randomCategory = categories[Math.floor(Math.random() * categories.length)];

            // Get texts from the selected category and randomly select one
            const categoryTexts = sampleTexts[randomCategory];
            const randomText = categoryTexts[Math.floor(Math.random() * categoryTexts.length)];

            document.getElementById('demoText').value = randomText;
        }

        function generateMockEmotions(inputText) {
            const emotions = [];

            // Deterministically generate emotions based on text content
            const keywordEmotionMap = [
                { keywords: ['happy', 'joy', 'delighted', 'pleased', 'excited', 'thrilled', 'elated'], emotion: 'joy' },
                { keywords: ['sad', 'unhappy', 'down', 'depressed', 'gloomy', 'melancholy', 'sorrow'], emotion: 'sadness' },
                { keywords: ['angry', 'mad', 'furious', 'irritated', 'annoyed', 'frustrated'], emotion: 'anger' },
                { keywords: ['love', 'adore', 'passion', 'affection', 'romantic', 'cherish'], emotion: 'love' },
                { keywords: ['afraid', 'scared', 'fearful', 'terrified', 'anxious', 'worried', 'nervous'], emotion: 'fear' },
                { keywords: ['surprised', 'amazed', 'astonished', 'shocked', 'stunned'], emotion: 'surprise' },
                { keywords: ['grateful', 'thankful', 'appreciate', 'blessed', 'thank you'], emotion: 'gratitude' },
                { keywords: ['proud', 'accomplished', 'achievement', 'success', 'victory'], emotion: 'pride' },
                { keywords: ['optimistic', 'hopeful', 'positive', 'bright', 'promising'], emotion: 'optimism' },
                { keywords: ['curious', 'interested', 'wonder', 'explore', 'discover'], emotion: 'curiosity' }
            ];

            const textLower = inputText.toLowerCase();
            let detectedEmotions = [];

            keywordEmotionMap.forEach(mapping => {
                for (const keyword of mapping.keywords) {
                    if (textLower.includes(keyword)) {
                        detectedEmotions.push(mapping.emotion);
                        break;
                    }
                }
            });

            // Remove duplicates and limit to 5
            detectedEmotions = [...new Set(detectedEmotions)].slice(0, 5);

            if (detectedEmotions.length === 0) {
                emotions.push({ emotion: 'neutral', confidence: 0.9 });
            } else {
                detectedEmotions.forEach((emotion, idx) => {
                    // Assign higher confidence to the first detected emotion
                    const confidence = 0.9 - idx * 0.15;
                    emotions.push({ emotion, confidence: Math.max(confidence, 0.2) });
                });
            }

            return emotions;
        }

        function displayResults(emotions, responseTime) {
            const resultsContainer = document.getElementById('emotionResults');
            resultsContainer.innerHTML = '';

            emotions.forEach((emotion, index) => {
                const confidencePercent = Math.round(emotion.confidence * 100);
                const colorClass = getEmotionColor(emotion.emotion);

                const emotionCard = `
                    <div class="col-md-6 col-lg-4">
                        <div class="emotion-card ${index === 0 ? 'active' : ''}">
                            <div class="card-body p-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0 fw-bold text-capitalize">${emotion.emotion}</h6>
                                    <span class="badge ${colorClass}">${confidencePercent}%</span>
                                </div>
                                <div class="confidence-bar">
                                    <div class="confidence-fill ${colorClass.replace('bg-', 'bg-')}"
                                         style="width: ${confidencePercent}%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                resultsContainer.innerHTML += emotionCard;
            });

            document.getElementById('resultSection').classList.add('show');
        }

        function updateCharts(emotions) {
            // Destroy existing chart
            if (confidenceChart) confidenceChart.destroy();

            // Single optimized chart
            const confidenceCtx = document.getElementById('confidenceChart').getContext('2d');
            confidenceChart = new Chart(confidenceCtx, {
                type: 'bar',
                data: {
                    labels: emotions.map(e => e.emotion),
                    datasets: [{
                        label: 'Confidence',
                        data: emotions.map(e => e.confidence * 100),
                        backgroundColor: emotions.map(e => getEmotionColor(e.emotion).replace('bg-', 'rgba(')),
                        borderColor: emotions.map(e => getEmotionColor(e.emotion).replace('bg-', 'rgba(')),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        function updateAPIInfo(responseTime, emotions) {
            document.getElementById('responseTime').textContent = `${responseTime}ms`;
            document.getElementById('apiStatus').textContent = 'Success';
            document.getElementById('apiStatus').className = 'text-success';

            const avgConfidence = emotions.reduce((sum, e) => sum + e.confidence, 0) / emotions.length;
            document.getElementById('avgConfidence').textContent = `${Math.round(avgConfidence * 100)}%`;
        }

        function getEmotionColor(emotion) {
            const colors = {
                'joy': 'bg-success',
                'sadness': 'bg-primary',
                'anger': 'bg-danger',
                'love': 'bg-danger',
                'fear': 'bg-warning',
                'surprise': 'bg-info',
                'gratitude': 'bg-success',
                'pride': 'bg-warning',
                'optimism': 'bg-success',
                'curiosity': 'bg-info',
                'neutral': 'bg-secondary'
            };
            return colors[emotion] || 'bg-secondary';
        }

        // Initialize with sample text
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('demoText').value = sampleTexts[0];
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
